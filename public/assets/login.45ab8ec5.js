import{_ as B,o as N,r as c,a as v,c as K,b as m,d as C,e as q,f as p,t as M,u as V,g as o,w as l,bK as P,bL as S,bF as W,h as w,A as D,C as I,F as L,k as z,l as Q,E as T,P as $,Q as j,R as G,S as H}from"./axios.58d44e76.js";const J={class:"main-login"},O={class:"form"},X={class:"caption"},Y={style:{"margin-top":"10px","text-align":"center"}},Z={style:{"text-align":"center"}},ee={__name:"App",setup(le){const x=z().proxy.axios;N(()=>{location.search.startsWith("?staff")?t.value="staff":location.search.startsWith("?admin")?t.value="admin":location.search.startsWith("?provider")?t.value="provider":t.value="user"});const t=c("user"),f=c(!1),s=v({username:"",password:"",confirm:"",name:""}),k=v({username:{trigger:"blur",required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7"},password:{trigger:"blur",required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"},confirm:{trigger:"blur",required:!0,validator:(r,e,u)=>{if(!e){u(new Error("\u8BF7\u586B\u5199\u786E\u8BA4\u5BC6\u7801"));return}s.password!=e?u(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):u()}}}),_=c(),F=()=>{_.value.resetFields()},R=()=>{_.value.validate(r=>{if(!r)return;const e={user:"index/user/reg",staff:"staff/user/reg",provider:"provider/base/reg"};x.post(e[t.value],s).then(()=>{Q.alert("\u6CE8\u518C\u6210\u529F\u3002","\u63D0\u793A",{type:"success"}),f.value=!1}).catch(()=>{})})},U=c(),n=v({username:"",password:""}),b=()=>{const r={user:{uri:"index/user/login",url:"/"},staff:{uri:"staff/user/login",url:"/staff.html"},admin:{uri:"admin/base/login",url:"/admin.html"},provider:{uri:"provider/base/login",url:"/provider.html"}};x.post(r[t.value].uri,n).then(()=>{T.success("\u767B\u5F55\u6210\u529F"),location.href=r[t.value].url}).catch(()=>{})},A=K(()=>r=>({user:"\u7528\u6237",staff:"\u5458\u5DE5",admin:"\u7BA1\u7406\u5458",provider:"\u5408\u4F5C\u5546"})[r]);return(r,e)=>{const u=m("el-icon"),d=m("el-input"),i=m("el-form-item"),h=m("el-form"),g=m("el-button"),E=m("el-dialog");return C(),q(L,null,[p("div",J,[p("div",O,[p("p",X,M(V(A)(t.value))+"\u767B\u5F55",1),o(h,{ref_key:"loginFormRef",ref:U,model:n,onKeyup:W(b,["enter","native"])},{default:l(()=>[o(i,null,{default:l(()=>[o(d,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=a=>n.username=a),placeholder:"\u8D26\u53F7"},{prepend:l(()=>[o(u,null,{default:l(()=>[o(V(P))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(i,null,{default:l(()=>[o(d,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),placeholder:"\u5BC6\u7801","show-password":""},{prepend:l(()=>[o(u,null,{default:l(()=>[o(V(S))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","onKeyup"]),o(g,{type:"primary",style:{width:"100%"},onClick:b},{default:l(()=>[w("\u767B\u5F55")]),_:1}),p("div",Y,[t.value!=="admin"?(C(),D(g,{key:0,type:"primary",text:"",onClick:e[2]||(e[2]=a=>f.value=!0)},{default:l(()=>[w("\u6CE8\u518C")]),_:1})):I("",!0)])])]),o(E,{title:"\u6CE8\u518C",modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=a=>f.value=a),width:"340px",onClosed:F},{default:l(()=>[o(h,{ref_key:"regFormRef",ref:_,model:s,rules:k},{default:l(()=>[o(i,{label:"\u8D26\u2003\u2003\u53F7",prop:"username"},{default:l(()=>[o(d,{modelValue:s.username,"onUpdate:modelValue":e[3]||(e[3]=a=>s.username=a)},null,8,["modelValue"])]),_:1}),o(i,{label:"\u5BC6\u2003\u2003\u7801",prop:"password"},{default:l(()=>[o(d,{modelValue:s.password,"onUpdate:modelValue":e[4]||(e[4]=a=>s.password=a)},null,8,["modelValue"])]),_:1}),o(i,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"confirm"},{default:l(()=>[o(d,{modelValue:s.confirm,"onUpdate:modelValue":e[5]||(e[5]=a=>s.confirm=a)},null,8,["modelValue"])]),_:1}),o(i,{label:"\xA0\xA0\xA0\u59D3\u2003\u2003\u540D",prop:"name"},{default:l(()=>[o(d,{modelValue:s.name,"onUpdate:modelValue":e[6]||(e[6]=a=>s.name=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),p("div",Z,[o(g,{type:"primary",onClick:R},{default:l(()=>[w("\u63D0\u4EA4\u6CE8\u518C")]),_:1})])]),_:1},8,["modelValue"])],64)}}},oe=B(ee,[["__scopeId","data-v-678a2a44"]]),y=$(oe);y.use(j,{locale:G});H(y);y.mount("#app");
